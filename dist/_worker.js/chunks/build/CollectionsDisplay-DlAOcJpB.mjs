import{o as e,b as l,f as s,d as t,a as i,j as r,C as o,e as a,L as n,x as d,p as c,k as u,ax as p,l as x,a7 as g,am as h}from"../_/nitro.mjs";import{e as m}from"./collection-BX4f1cqd.mjs";import{Y as f}from"./CollectionSeedDisplay-B35Lqi_Y.mjs";const v=e((function({collections:e,likedSeeds:v,likesPending:j,isLoading:w=!1}){const{href:y}=l(),{style:b,steps:N,angle:S}=s({from:"/_layout"}),_=t(m.collections),C=i.useRef(!1);i.useEffect((()=>{w||(C.current=!1,m.collections.set(e))}),[e,w]);const L=C.current&&_.length>0?_:e,k=(e,l)=>{const s=h(e,l.globals),t=L.findIndex((e=>String(e._id)===String(l._id))),i=L.find((e=>String(e._id)===String(l._id)));if(-1!==t){const l=[...L];l[t]={...L[t],coeffs:e,seed:s,likes:s!==(null==i?void 0:i.seed)?0:(null==i?void 0:i.likes)||0},C.current=!0,m.collections.set(l)}};return r.jsx("section",{className:"h-full w-full relative",children:r.jsxs("ol",{className:o("h-full w-full relative px-5 lg:px-14","grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 4xl:grid-cols-6 gap-x-10 gap-y-20 auto-rows-[300px]"),children:[L.map(((e,l)=>{const s=t(a.activeCollectionId)===e._id,i=t(a.previewStyle),g=t(a.previewSteps),h=t(a.previewAngle),m=t(a.previewSeed),w=null!==g?g:"auto"===N?e.steps:N,_=null!==i?i:"auto"===b?e.style:b,C=null!==h||"auto"!==S?null!=h?h:"number"==typeof S?parseFloat(S.toFixed(1)):e.angle:e.angle;return r.jsx("li",{className:o("relative group","w-full font-poppins"),onClick:()=>{s?a.activeCollectionId.set(null):a.activeCollectionId.set(e._id)},onMouseLeave:()=>{m&&a.previewSeed.set(null)},tabIndex:0,role:"button","aria-pressed":s,"aria-label":`${s?"Deselect":"Select"} gradient ${l+1} for actions`,children:r.jsx(f,{collection:e,index:l,likedSeeds:v,style:_,steps:w,angle:C,href:y,onChannelOrderChange:k,itemActive:s,likesPending:j,children:r.jsx("div",{className:o("absolute top-3.5 left-3.5 z-10 transition-opacity",{"opacity-0 group-hover:opacity-100":!s,"opacity-100":s}),children:r.jsx(n,{to:"/$seed",params:{seed:e.seed},search:l=>({...l,angle:"auto"===S?e.angle:l.angle,style:"auto"===b?e.style:l.style,steps:"auto"===N?e.steps:l.steps}),className:"block text-foreground/80 hover:text-foreground transition-colors","aria-label":`View details for gradient ${l+1}`,children:r.jsx("div",{className:"bg-background/20 backdrop-blur-sm rounded-md transition-all flex items-center justify-center px-0.5 z-10 h-8 w-9 hover:bg-background/40",children:r.jsx("div",{className:"p-1.5 rounded-full transition-colors cursor-pointer hover:text-foreground",children:r.jsx(d,{children:r.jsxs(c,{children:[r.jsx(u,{asChild:!0,children:r.jsx(p,{className:"w-5 h-5 text-foreground"})}),r.jsx(x,{children:r.jsx("span",{children:"Edit Palette"})})]})})})})})})})},e._id)})),w&&r.jsx(r.Fragment,{children:Array.from({length:g}).map(((e,l)=>r.jsxs("li",{className:"w-full relative",children:[r.jsx("div",{className:"h-[300px] w-full rounded-lg border-2 border-muted animate-pulse"}),r.jsxs("div",{className:"flex justify-between pt-4 relative",children:[r.jsx("div",{className:"flex items-center"}),r.jsx("div",{className:"flex items-center min-h-[28px]",children:r.jsx("div",{className:"relative text-muted-foreground",children:r.jsx("div",{className:"rounded-full cursor-not-allowed opacity-50",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5.5 h-5.5",children:r.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})})})})})]})]},`placeholder-${l}`)))})]})})}));export{v as e};
//# sourceMappingURL=CollectionsDisplay-DlAOcJpB.mjs.map
